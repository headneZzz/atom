<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Атом</title>

	<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
	<link rel="manifest" href="/favicon/site.webmanifest">
	<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
	<meta name="msapplication-TileColor" content="#da532c">
	<meta name="theme-color" content="#ffffff">
	
	<!-- Webix Library -->
	<!--<script type="text/javascript" src="//cdn.webix.com/edge/webix.js"></script>
	<link rel="stylesheet" type="text/css" href="//cdn.webix.com/edge/webix.css">-->
	<script type="text/javascript" src="libs/webix.js"></script>
	<link rel="stylesheet" type="text/css" href="libs/webix.css">
	<!--<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css?v=7.1.1" crossorigin="anonymous"> -->
	<!--<link rel="stylesheet" href="//cdn.materialdesignicons.com/4.7.95/css/materialdesignicons.min.css">-->
	<link rel="stylesheet" href="libs/MaterialDesign-Webfont-master/css/materialdesignicons.min.css">

	<!-- App -->
	<script type="text/javascript" src="codebase/myapp.js"></script>
	<link rel="stylesheet" type="text/css" href="codebase/myapp.css">

	<script type="text/javascript">
		var format = webix.Date.dateToStr("%Y-%m-%d");
		/*var sndError = new Audio("error.mp3"); // buffers automatically when created
		sndError.loop = false;*/

		function addLeadZero(val){
			if (val < 10) return '0' + val; else return val;
		}

		function isEmpty(obj) {
			for (let key in obj) {
				return false;
			}
			return true;
		}

		function withoutTime (dd) {
			let d = new Date(dd);
    		d.setHours(0, 0, 0, 0);
    		return d;
		}


		function valiDateDate(vDate){
			//Формат проверяемой даты YYYY-MM-DD
			let d = Number.parseInt(vDate.substring(8)) - 1;
			let m = Number.parseInt(vDate.substring(5,7)) - 1;
			let y = Number.parseInt(vDate.substring(0,4)) - 1;
			let newDate = new Date(y, m, d);
			if ((newDate.getFullYear() == y) && (newDate.getMonth() == m) && (newDate.getDate() == d)) {
				let today = new Date();
				if (newDate > today) {
					webix.message({type:"error", text:"Этот день еще не пришёл"});
					sndError.pause();
					sndError.play();
					return false;
				}
				return true;
			} else{
				webix.message({type:"error", text:"Ошибка в написании даты"});
				sndError.pause();
				sndError.play();	
				return false;
			}
		}

	</script>

</head>
<body></body>
</html>